<mujoco model="mcl_oneleg">
	<compiler angle="radian" meshdir="assets/" />
	<option timestep="0.0001" integrator="RK4" gravity = "0 0 -9.81" cone="elliptic" impratio="100">
		<!-- <flag sensornoise="enable" energy="enable" contact="enable" /> -->
	</option>

	<default>
		<default class="mcl_oneleg">
			<joint axis="0 0 -1" damping='1' armature='0.05' frictionloss='0.1'/>
			<!-- damping='2' armature='0.1' frictionloss='0.2' -->
			<!-- <joint axis="0 0 -1"/> -->
			<default class="hip">
				<joint range="-0.2 3.14"/>
			</default>

			<default class="knee">
				<joint range="-0.2 2.8"/>
			</default>

			<default class="visual">
				<geom type="mesh" contype="0" conaffinity="0" group="2"/>
			</default>
			<default class="collision">
				<geom group="3" type="capsule"/>
				<default class="foot">
					<!-- <geom size="0.022" pos="-0.002 0 -0.213" priority="1" solimp="0.015 1 0.031" condim="6" friction="0.8 0.02 0.01"/> -->
					<geom size="0.022" pos="-0.002 0 -0.213" priority="1" solimp="0.015 1 0.031" condim="6" friction="0.8 0.02 0.01"/>
				</default>
			</default>
		</default>
	</default>

	<asset>
		<material name="dark" rgba="0.2 0.2 0.2 1"/>
		<material name="metal" rgba=".9 .95 .95 1"/>
		<material name="white" rgba="1 1 1 1"/>
		<material name="black" rgba="0 0 0 1"/>
		<material name="gray" rgba="0.671705 0.692426 0.774270 1"/>

		<mesh name="torso_FL" file="hip_link.STL" />
		<mesh name="thigh_FL" file="thigh_link.STL" />
		<mesh name="shank_FL" file="shank_link.STL" />
	</asset>
	<worldbody>
		<light diffuse=".5 .5 .5" pos="0 0 3" dir="0 0 -1"/>
		<body name="hipTorso_FL" pos="0 0 0.1" euler="-1.5708 0 0">
			<!-- <body name="hipTorso_FL" pos="0 0 0.1" euler="-1.5708 3.14159 0"> -->
			<inertial pos="0 0 0.060274" euler="0 0 0" mass="5" diaginertia="0.00076606 0.00063144 0.00063144"/>
			<joint name="h_slide" type="slide" pos="0 0 0" axis="1 0 0" />
			<joint name="v_slide" type="slide" pos="0 0 0" axis="0 -1 0" />
			<geom type="mesh" mesh="torso_FL" material="dark" class="visual" />
			<site type="box" name="imu" pos="0.10195 0.026085 0.0004610" size="0.1 0.08 0.05" rgba="1 1 1 0.0" />

			<body name="thigh_FL" pos="0 0 0" euler="0 0 0">
				<inertial pos="-0.085604 0 0" euler="0 0 0" mass="0.42325" diaginertia="2.6521E-04 0.006258718 0.006208038" />
				<joint name="HFE_FL" class="hip" type="hinge" pos="0.1435 0 0.07105" />
				<geom type="mesh" mesh="thigh_FL" material="metal" class="visual" />
				<geom size="0.025 0.125" pos="0 0 0.108119" euler="0 1.57 0" class="collision" rgba="0.4 0.4 0.4 0.4" />

				<body name="shank_FL" pos="0 0 0">
					<inertial pos="-0.14427 0 0" euler="0 0 0" mass="0.37169" diaginertia="1.6488E-04 0.003937 0.004042" />
					<joint name="KFE_FL" class="knee" type="hinge" pos="-0.1065 0 0.07105" />
					<geom type="mesh" contype="1" conaffinity="0" group="2" material="white" mesh="shank_FL" />
					<!-- <site type="sphere" name="foot" pos="-0.348 0.02 0.105" size="0.022" rgba="0.5 0.5 0.8 0.5" /> -->
					<site type="sphere" name="foot" pos="-0.348 0.02 0.105" size="0.03" rgba="0 0 0 0" />
					<!-- <site type="sphere" name="foot" pos="-0.348 0.02 0.105" size="0.05" rgba="0.5 0.8 0.9 0.5" /> -->
				</body>
			</body>
		</body>
	</worldbody>
	<actuator>
		<motor joint="HFE_FL" name="torque_HFE" gear="1" ctrllimited="true" ctrlrange="-1E4 1E4" />
		<motor joint="KFE_FL" name="torque_KFE" gear="1" ctrllimited="true" ctrlrange="-1E4 1E4" />
	</actuator>
	<sensor>
		<!-- body sensor world/local -->
		<framepos name="body_pos_world" objtype="site" objname="imu" />
		<!-- 0, 1, 2 -->
		<framelinvel name="body_vel_world" objtype="site" objname="imu" />
		<!-- 3, 4, 5 -->
		<framequat name="body_quat" objtype="site" objname="imu" />
		<!-- 6, 7, 8, 9 -->
		<frameangvel name="body_omega_world" objtype="site" objname="imu" />
		<!-- 10, 11, 12 -->
		<velocimeter name="body_vel_local" site="imu" />
		<!-- 13, 14, 15 -->
		<gyro name="imu_gyro" site="imu" />
		<!-- 16, 17, 18 -->
		<accelerometer name="imu_accel" site="imu" />
		<!-- 19, 20, 21 -->

		<!-- joint sensor -->
		<jointpos joint="HFE_FL" name="pos_hfe" />
		<!-- 22 -->
		<jointpos joint="KFE_FL" name="pos_kfe" />
		<!-- 23 -->
		<jointvel joint="HFE_FL" name="VEL_hfe" />
		<!-- 24 -->
		<jointvel joint="KFE_FL" name="VEL_kfe" />
		<!-- 25 -->

		<!-- foot sensor -->
		<framepos name="foot_pos_world" objtype="site" objname="foot" />
		<!-- 26, 27, 28 -->
		<framelinvel name="foot_vel_world" objtype="site" objname="foot" />
		<!-- 29, 30, 31 -->
		<touch name="foot_touch" site="foot" />
		<!-- 32 -->
		<force name="foot_grf" site="foot" />
		<!-- 33, 34, 35 -->
	</sensor>
	<keyframe>		<!-- body_x, body_y, q_hfe, q_kfe -->
		<key name="home" qpos="0 0.3 0.57854 1.57" />
		<!-- <key name="home" qpos="0 0.33 0.9773 1.287" /> -->
		<!-- <key name="home" qpos="0 0.33 1.0773 1.287" /> -->
		<!-- <key name="home" qpos="0 0.33 1.1773 1.287" /> -->
		<!-- <key name="home" qpos="0 0.33 1.2773 1.287" /> -->
		<!-- <key name="home" qpos="0 0.33 1.3273 1.287" /> -->
	</keyframe>
</mujoco>
